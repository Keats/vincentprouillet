<!DOCTYPE html>
<html lang="en-gb">
    <head>
      <meta charset="UTF-8">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="
    Payments in Europe are complicated due to recent VAT changes. I researched several SaaS that handle the new rules.
">
      <meta name="author" content="Vincent Prouillet">
      <title>Vincent Prouillet: Developer &amp; Entrepreneur</title>
      <link rel="stylesheet" href="https://www.vincentprouillet.com/site.css?h=6dba58370284a334effb" />
      <link rel="shortcut icon" type="image/png" href="https://www.vincentprouillet.com/favicon.ico"/>
      <link href="https://www.vincentprouillet.com/rss.xml" rel="feed" type="application/rss+xml" title="Vincent Prouillet: Developer &amp; Entrepreneur" />
    </head>

    <header id="header">
        <h1 class="logo"><a href="/">Vincent Prouillet</a></h1>
        <ul>
            <li><a href="/blog/">Blog</a></li>
        </ul>
    </header>

    <div id="content">
        
    <div class="post">
        <div class="post__title">
            <h1>Looking at payments solution for SaaS in Europe</h1>
            <div class="post__meta">
                2015-12-10
                
            </div>
            <hr />
        </div>

        <div class="post__body">
            <p>As we are working on our product (if you work in an agency, we'd love to have a chat with you! send us a mail at team AT wearewizards.io), I was curious to see the payments landscape in Europe, having read so much about <a href="https://twitter.com/hashtag/vatmess">#VATMESS</a>.</p>
<p>In Europe, before 2015, the supplier would charge the VAT rate of their own country to their customers: for example if the supplier was based in the UK and the customer in France, the supplier would charge the UK VAT rate.</p>
<p>Since 2015 however, the supplier now has to charge the VAT rate of the customer's country and report sales to that country. This change was made to prevent unfair competition from countries with a lower VAT rate, with big companies moving to Luxembourg for example. Regulators only forgot to set a lower limit (they are apparently now thinking of a Â£5k limit) and didn't think of SME or thought about it and decided that crippling European businesses would be a good idea.
Note that this change only applies to B2C customers.</p>
<p>This article will focus on what it means for a UK-based VAT-registered company as it is our case.</p>
<h2 id="business-side">Business side<a class="zola-anchor" href="#business-side" aria-label="Anchor link for: business-side">ðŸ”—</a></h2>
<p>If the customer is a business and is VAT registered, just getting the VAT number and checking it should be enough. However, companies paying without giving their VAT number or non-VAT registered ones should be treated as B2C.</p>
<p>As mentioned in the introduction, we need to charge the VAT of the customer's country which means we need to locate them.</p>
<p>Here are some examples of pieces of informations we can use to identify a customer's location:</p>
<ul>
<li>billing address</li>
<li>IP address geolocation</li>
<li>bank location</li>
<li>card location</li>
</ul>
<p>Note that the legislation requires to have two non-conflicting items of information and keep them for 10 (!) years.
Without the non-conflicting information you have to reject the transaction. You could possibly ask for the user to send some proof by mail but that's a terrible user experience.</p>
<p>If we manage to get customers to pay us, we then need to separate sales by country and apply the right VAT. This gives us the amount of tax we need to pay for each country.</p>
<p>The UK has put in place something called the VAT Mini One Stop Shop or VAT MOSS (https://www.gov.uk/guidance/register-and-use-the-vat-mini-one-stop-shop). This allows businesses to register in only one country and let it redistribute the money after filing a VAT return for other countries on a quarterly basis with the amounts we calculated.</p>
<h2 id="implementing">Implementing<a class="zola-anchor" href="#implementing" aria-label="Anchor link for: implementing">ðŸ”—</a></h2>
<p>Now that we have an overview of what the VAT system looks like, let's have a look at the solutions.</p>
<h3 id="payment-providers">Payment providers<a class="zola-anchor" href="#payment-providers" aria-label="Anchor link for: payment-providers">ðŸ”—</a></h3>
<p>None of these (except FastSpring) actually help with the VAT mess but are still needed.
There are a few alternatives here:</p>
<ul>
<li><a href="https://stripe.com">Stripe</a></li>
<li><a href="https://www.braintreepayments.com/">Braintree</a></li>
<li><a href="https://www.paymill.com/">Paymill</a></li>
<li><a href="http://www.fastspring.com/">FastSpring</a></li>
</ul>
<p>Paymill is based in Europe. Stripe is extremely easy to setup and get started. I haven't used the other two so I can't comment on those but it seems you need to be approved for a merchant account for them which means some some wait.</p>
<p>Here are the advertised rates (you might get a better one by talking with them):</p>
<ul>
<li>Paymill: 2.95% + 0.28â‚¬</li>
<li>Braintree: 2.4% + 20p (first Â£30k free) for EU cards, 3.4% + 20p for non EU cards</li>
<li>Stripe: 1.9% + 20p for UK cards and 2.9% + 20p for foreign cards</li>
<li>FastSpring: 5.9% + $.95 per transaction</li>
</ul>
<p>Let's use a small example to see the difference: Â£10k sales with Â£5k from the UK, Â£3k from NA and Â£2k from Europe with let's say 100 transactions:</p>
<pre data-lang="python" style="background-color:#f5f5f5;color:#1f1f1f;" class="language-python "><code class="language-python" data-lang="python"><span>paymill </span><span style="color:#72ab00;">= </span><span>(</span><span style="color:#b3933a;">2.95 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">10000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">0.20 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#7f8989;"># assuming Â£1=1â‚¬
</span><span style="color:#72ab00;">&gt;&gt; </span><span style="color:#b3933a;">315
</span><span>braintree </span><span style="color:#72ab00;">= </span><span>(</span><span style="color:#b3933a;">2.4 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">7000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">3.4 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">3000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">0.20 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">100</span><span>)
</span><span style="color:#72ab00;">&gt;&gt; </span><span style="color:#b3933a;">290
</span><span>stripe </span><span style="color:#72ab00;">= </span><span>(</span><span style="color:#b3933a;">1.9 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">5000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">2.9 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">5000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">0.20 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">100</span><span>)
</span><span style="color:#72ab00;">&gt;&gt; </span><span style="color:#b3933a;">260
</span><span>fastspring </span><span style="color:#72ab00;">= </span><span>(</span><span style="color:#b3933a;">5.95 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">10000 </span><span style="color:#72ab00;">/ </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#72ab00;">+ </span><span>(</span><span style="color:#b3933a;">0.63 </span><span style="color:#72ab00;">* </span><span style="color:#b3933a;">100</span><span>) </span><span style="color:#7f8989;"># today&#39;s rate $0.95 &gt; Â£0.63
</span><span style="color:#72ab00;">&gt;&gt; </span><span style="color:#b3933a;">658
</span></code></pre>
<p>Stripe seems to give the best price but keep in mind you cand probably get better rates than the advertised one (at least for Paymill according to the employee I met ages ago).
FastSpring is pretty damn expensive but seems to have European VAT handling built-in.</p>
<h3 id="handling-vat">Handling VAT<a class="zola-anchor" href="#handling-vat" aria-label="Anchor link for: handling-vat">ðŸ”—</a></h3>
<h4 id="implementing-it-yourself">Implementing it yourself<a class="zola-anchor" href="#implementing-it-yourself" aria-label="Anchor link for: implementing-it-yourself">ðŸ”—</a></h4>
<p>In all cases, you need to ask for the customer's country in the checkout form to serve as an equivalent of a billing address. You can prefill that by using the IP address for better UX.</p>
<p>You need to handle two cases:</p>
<ul>
<li>Customer provides a VAT number</li>
</ul>
<p>Check that the VAT number is correct and match the country given.
If it is valid, you only need to add VAT if the customer is based in the same country as you.
If the customer is not in the same country, do not charge any VAT.</p>
<ul>
<li>Customer doesn't provide VAT number</li>
</ul>
<p>Compare the country selected with the IP location.
If it matches continue otherwise compare the country filled with the bank country.
If it matches continue otherwise ask the customer to send a fax with their certificate of birth and a passport.
More seriously: what should be done in the last case?</p>
<p>There are APIs to get up-to-date VAT rates and check VAT numbers but you could use <a href="https://github.com/iconfinder/pyvat">pyvat</a> for example to handle all of that for you. Keep in mind that you do not charge VAT for clients outside of the EU.</p>
<p>While this is annoying, it doesn't seem like a huge amount of work.</p>
<h4 id="using-a-third-party">Using a third party<a class="zola-anchor" href="#using-a-third-party" aria-label="Anchor link for: using-a-third-party">ðŸ”—</a></h4>
<p>If you prefer using off-the-shelf solutions, a few exist that handle the VAT aspect (note that I haven't used any of them):</p>
<ul>
<li><a href="https://recurly.com/">Recurly</a>: $99/month and 10Â¢ per transaction + 1.25% of revenue (on top of payment gateway)</li>
<li><a href="https://quaderno.io/">Quaderno</a>: $29/month on top of your payment provider, provides a widget for checkout that handles European VAT rules</li>
<li><a href="https://www.taxamo.com">Taxamo</a>: Â£40/month for all the regions, pretty limited number of country as it's missing Canada and Australia for example. Doesn't actually show what the product is but included for completeness</li>
<li><a href="https://www.chargebee.com">Chargebee</a>: $49/month on top of a payment provider</li>
</ul>
<p>Out of those, Quaderno seems to be the best choice and is fairly cheap. Recurly looks neat as well but is quite expensive without a clear added value on what it adds to let's say Stripe recurrent billing.</p>
<h2 id="conclusion">Conclusion<a class="zola-anchor" href="#conclusion" aria-label="Anchor link for: conclusion">ðŸ”—</a></h2>
<p>As a developer I am tempted to write my own version but Quaderno seems like a good fit and is cheap enough for a B2B SaaS that it might be worth avoiding the hassle of coding it.</p>
<p>We are more interested in feedback really, quite curious of how European SaaS are handling payments after this year's change in VAT.</p>

        </div>
    </div>

    </div>

  <body>
  </body>
</html>
